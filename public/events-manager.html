<!DOCTYPE html>
<html lang="en">
<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"></script>
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"
    integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
    integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
    crossorigin="anonymous" referrerpolicy="no-referrer"/>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.8.3/angular.min.js"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;700&display=swap">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap">
  <link rel="stylesheet" href="Style/index.css">
  <link rel="stylesheet" href="Style/influencer-dash.css">
    <title>Event Manager</title>
    <script>
        let module = angular.module("myModal",[]);
        let controller = module.controller("myController",function($scope, $http){
            
            let active = localStorage.getItem("activeuser");
            $scope.txtEmail = active;

            $scope.jsonAllEvents;
            $scope.jsonUpdateEvents;
            $scope.updateRid;
            $scope.fullDetails;
            $scope.id;
            $scope.getEvents=function()
                {
                    // alert(active);
                    let url="/fetch-all-events?emailTxt="+active;
                    $http.get(url).then(allIsWell,notWell);

                    function allIsWell(response)
                    {
                        //alert(JSON.stringify(response.data)) ;
                        $scope.jsonAllEvents=response.data;
                    }
                    function notWell(err)
                    {
                        alert(err);
                    }
                }
                $scope.delEvent=function(rid)
                {
                    // alert();
                    let url="/del-one-event?rid="+rid;
                    $http.get(url).then(allIsWell,notWell);

                    function allIsWell(response)
                    {
                        alert(JSON.stringify(response.data));
                        $scope.getEvents();
                    }
                    function notWell(err)
                    {
                        alert(err);
                    }
                }

                $scope.doLogOut = function()
                {
                  localStorage.removeItem("activeuser");
                  location.href="index.html";
                }

              });
    </script>
</head>
<body ng-app="myModal" ng-controller="myController" ng-init="getEvents()";>
        <center>
          
          <div class="page-title h1 pt-5 mt-5">Event Manager</div>

          <div class="container">
            <table class="table mt-5 table-striped">
                <thead>
                  <tr>
                    <th scope="col">Sr. No.</th>
                    <th scope="col">Record ID</th>
                    <th scope="col">Event Name</th>
                    <th scope="col">Date</th>
                    <th scope="col">Time</th>
                    <th scope="col">City</th>
                    <th scope="col">Venue</th>
                  </tr>
                </thead>
                <tbody>
                  <tr ng-repeat="obj in jsonAllEvents">
                    <th scope="row">{{$index+1}}</th>
                    <td>{{obj.rid}}</td>
                    <td>{{obj.ievents}}</td>
                    <td>{{obj.doe}}</td>
                    <td>{{obj.tos}}</td>
                    <td>{{obj.city}}</td>
                    <td>{{obj.venue}}</td>
                    <td>
                        <button type="button" class="btn btn-danger" ng-click="delEvent(obj.rid);">Delete</button>
                    </td>

                  </tr>
                </tbody>
              </table>
        </div>
      </center>


      <center>
        <nav class="navbar navbar-expand-lg bg-body-tertiary fixed-top table-striped">
                  <div class="container-fluid shadow">
                    <img src="" alt="" width="50" height="50">
                    <a class="navbar-brand ms-3 fs-3" href="#">synerixa.com</a>
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                      <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse justify-content-end" id="navbarSupportedContent">
                      <ul class="navbar-nav">
                        <li class="nav-item">
                          <button type="button" class="btn btn-light button-customized fs-5" ng-click="doLogOut();">Log Out</button>
                        </li>
                      </ul>
                    </div>
                  </div>
                </nav>
              </center>

              <footer class="footer mt-5 py-3 position-absolute end-0 start-0" style="background-color: #538392;">
                <div class="container">
                    <div class="row">
                        <div class="col-md-3 footer-txt-align">
                            <h5>About Us</h5>
                            <p>We are dedicated to connecting people and influencers from all over the world. Our platform makes it easy to find the right influencer for your brand, and for influencers to showcase their profiles and connect with potential collaborators. Whether you're looking to promote a product, a cause, or just find like-minded individuals, our website is here to help.</p>
                        </div>
                        <div class="col-md-3 px-5">
                            <h5>Quick Links</h5>
                            <ul class="list-unstyled">
                                <li><a href="/index.html">Home</a></li>
                                <li><a href="/index.html#services">Services</a></li>
                                <li><a href="/index.html#team">Team</a></li>
                                <li><a href="/index.html#reachus">Reach Us</a></li>
                            </ul>
                        </div>
                        <div class="col-md-3">
                            <h5>Follow Us</h5>
                            <div class="social-icons">
                                <a href="https://www.instagram.com/bhavika_mittal625/"><i class="fab fa-instagram ms-3 fs-3"></i></a>
                                <a href="https://www.linkedin.com/in/bhavika-mittal-97a35025b/"><i class="fab fa-linkedin-in ms-3 fs-3"></i></a>
                            </div>
                        </div>
                        <div class="col-md-3 footer-txt-align">
                            <h5>Contact Us</h5>
                            <p><b id="eml">Email:</b> bhavikamittal81@gmail.com</p>
                            <p>We value your feedback! Please send your comments, suggestions, or any issues you encounter to the email address above. Your input helps us improve and provide the best experience for our users.</p>
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="col text-center">
                            <p>Â© 2024 Synerixa. Developed by <i>Bhavika Mittal</i>. All rights reserved.</p>
                        </div>
                    </div>
                </div>
            </footer>

</body>
</html>